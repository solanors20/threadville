#ifndef MAP_H_
#define MAP_H_

#include "constants.h"

char* stops[S] =
{
    "1","2","1","2","1","2","1","2","1","2","1","2",
    "8","3","8","3","8","3","8","3","8","3","8","3",
    "7","4","7","4","7","4","7","4","7","4","7","4",
    "6","5","6","5","6","5","6","5","6","5","6","5",
    "1","2","1","2","1","2","1","2","1","2","1","2",
    "6","3","6","3","6","3","6","3","6","3","6","3",
    "5","4","5","4","5","4","5","4","5","4","5","4",
    "1","2","1","2","1","2","1","2","1","2","1","2",
    "6","3","6","3","6","3","6","3","6","3","6","3",
    "5","4","5","4","5","4","5","4","5","4","5","4",
    "1","2","1","2","1","2","1","2","1","2","1","2",
    "8","3","8","3","8","3","8","3","8","3","8","3",
    "7","4","7","4","7","4","7","4","7","4","7","4",
    "6","5","6","5","6","5","6","5","6","5","6","5"
};

int map[ROWS][COLUMNS] = 
{
        {0,0,1,1,5,1,1,5,1,1,1,1,5,1,1,5,1,1,1,1,5,1,1,5,1,1,1,1,5,1,1,5,1,1,1,1,5,1,1,5,1,1,1,1,5,1,1,5,1,1,0,0},
        {0,0,1,2,4,2,2,4,2,1,1,2,4,2,2,4,2,1,1,2,4,2,2,4,2,1,1,2,4,2,2,4,2,1,1,2,4,2,2,4,2,1,1,2,4,2,2,4,2,1,0,0},
        {0,0,5,4,2,2,2,2,4,5,5,4,2,2,2,2,4,5,5,4,2,2,2,2,4,5,5,4,2,2,2,2,4,5,5,4,2,2,2,2,4,5,5,4,2,2,2,2,4,5,0,0},
        {0,0,1,2,2,2,2,2,2,1,1,2,2,2,2,2,2,1,1,2,2,2,2,2,2,1,1,2,2,2,2,2,2,1,1,2,2,2,2,2,2,1,1,2,2,2,2,2,2,1,0,0},
        {0,0,1,2,2,2,2,2,2,1,1,2,2,2,2,2,2,1,1,2,2,2,2,2,2,1,1,2,2,2,2,2,2,1,1,2,2,2,2,2,2,1,1,2,2,2,2,2,2,1,0,0},
        {0,0,5,4,2,2,2,2,4,5,5,4,2,2,2,2,4,5,5,4,2,2,2,2,4,5,5,4,2,2,2,2,4,5,5,4,2,2,2,2,4,5,5,4,2,2,2,2,4,5,0,0},
        {0,0,1,2,4,2,2,4,2,1,1,2,4,2,2,4,2,1,1,2,4,2,2,4,2,1,1,2,4,2,2,4,2,1,1,2,4,2,2,4,2,1,1,2,4,2,2,4,2,1,0,0},
        {0,0,1,1,6,1,1,6,1,1,1,1,6,1,1,6,1,1,1,1,6,1,1,6,1,1,1,1,6,1,1,6,1,1,1,1,6,1,1,6,1,1,1,1,6,1,1,6,1,1,0,0},
        {0,0,1,2,4,2,2,4,2,1,1,2,4,2,2,4,2,1,1,2,4,2,2,4,2,1,1,2,4,2,2,4,2,1,1,2,4,2,2,4,2,1,1,2,4,2,2,4,2,1,0,0},
        {0,0,5,4,2,2,2,2,4,5,5,4,2,2,2,2,4,5,5,4,2,2,2,2,4,5,5,4,2,2,2,2,4,5,5,4,2,2,2,2,4,5,5,4,2,2,2,2,4,5,0,0},
        {0,0,1,2,2,2,2,2,2,1,1,2,2,2,2,2,2,1,1,2,2,2,2,2,2,1,1,2,2,2,2,2,2,1,1,2,2,2,2,2,2,1,1,2,2,2,2,2,2,1,0,0},
        {0,0,1,2,2,2,2,2,2,1,1,2,2,2,2,2,2,1,1,2,2,2,2,2,2,1,1,2,2,2,2,2,2,1,1,2,2,2,2,2,2,1,1,2,2,2,2,2,2,1,0,0},
        {0,0,5,4,2,2,2,2,4,5,5,4,2,2,2,2,4,5,5,4,2,2,2,2,4,5,5,4,2,2,2,2,4,5,5,4,2,2,2,2,4,5,5,4,2,2,2,2,4,5,0,0},
        {0,0,1,2,2,2,2,2,2,1,1,2,2,2,2,2,2,1,1,2,2,2,2,2,2,1,1,2,2,2,2,2,2,1,1,2,2,2,2,2,2,1,1,2,2,2,2,2,2,1,0,0},
        {0,0,1,3,3,3,3,3,3,1,1,3,3,3,3,3,3,1,1,3,3,3,3,3,3,1,1,3,3,3,3,3,3,1,1,3,3,3,3,3,3,1,1,3,3,3,3,3,3,1,0,0},
        {5,1,5,5,1,1,1,1,1,9,8,1,1,1,1,1,1,9,8,1,1,1,1,1,1,9,8,1,1,1,1,1,1,9,8,1,1,1,1,1,1,9,8,1,1,1,1,1,5,5,1,5},
        {1,3,1,5,1,1,1,1,1,7,7,1,1,1,1,1,1,7,7,1,1,1,1,1,1,7,7,1,1,1,1,1,1,7,7,1,1,1,1,1,1,7,7,1,1,1,1,1,5,1,3,1},
        {1,3,1,5,1,1,1,1,1,7,7,1,1,1,1,1,1,7,7,1,1,1,1,1,1,7,7,1,1,1,1,1,1,7,7,1,1,1,1,1,1,7,7,1,1,1,1,1,5,1,3,1},
        {5,1,5,5,1,1,1,1,1,9,8,1,1,1,1,1,1,9,8,1,1,1,1,1,1,9,8,1,1,1,1,1,1,9,8,1,1,1,1,1,1,9,8,1,1,1,1,1,5,5,1,5},
        {0,0,1,3,3,3,3,3,3,1,1,3,3,3,3,3,3,1,1,3,3,3,3,3,3,1,1,3,3,3,3,3,3,1,1,3,3,3,3,3,3,1,1,3,3,3,3,3,3,1,0,0},
        {0,0,1,2,2,2,2,2,2,1,1,2,2,2,2,2,2,1,1,2,2,2,2,2,2,1,1,2,2,2,2,2,2,1,1,2,2,2,2,2,2,1,1,2,2,2,2,2,2,1,0,0},
        {0,0,5,4,2,2,2,2,4,5,5,4,2,2,2,2,4,5,5,4,2,2,2,2,4,5,5,4,2,2,2,2,4,5,5,4,2,2,2,2,4,5,5,4,2,2,2,2,4,5,0,0},
        {0,0,1,2,2,2,2,2,2,1,1,2,2,2,2,2,2,1,1,2,2,2,2,2,2,1,1,2,2,2,2,2,2,1,1,2,2,2,2,2,2,1,1,2,2,2,2,2,2,1,0,0},
        {0,0,1,2,2,2,2,2,2,1,1,2,2,2,2,2,2,1,1,2,2,2,2,2,2,1,1,2,2,2,2,2,2,1,1,2,2,2,2,2,2,1,1,2,2,2,2,2,2,1,0,0},
        {0,0,5,4,2,2,2,2,4,5,5,4,2,2,2,2,4,5,5,4,2,2,2,2,4,5,5,4,2,2,2,2,4,5,5,4,2,2,2,2,4,5,5,4,2,2,2,2,4,5,0,0},
        {0,0,1,2,4,2,2,4,2,1,1,2,4,2,2,4,2,1,1,2,4,2,2,4,2,1,1,2,4,2,2,4,2,1,1,2,4,2,2,4,2,1,1,2,4,2,2,4,2,1,0,0},
        {0,0,1,1,6,1,1,6,1,1,1,1,6,1,1,6,1,1,1,1,6,1,1,6,1,1,1,1,6,1,1,6,1,1,1,1,6,1,1,6,1,1,1,1,6,1,1,6,1,1,0,0},
        {0,0,1,2,4,2,2,4,2,1,1,2,4,2,2,4,2,1,1,2,4,2,2,4,2,1,1,2,4,2,2,4,2,1,1,2,4,2,2,4,2,1,1,2,4,2,2,4,2,1,0,0},
        {0,0,5,4,2,2,2,2,4,5,5,4,2,2,2,2,4,5,5,4,2,2,2,2,4,5,5,4,2,2,2,2,4,5,5,4,2,2,2,2,4,5,5,4,2,2,2,2,4,5,0,0},
        {0,0,1,2,2,2,2,2,2,1,1,2,2,2,2,2,2,1,1,2,2,2,2,2,2,1,1,2,2,2,2,2,2,1,1,2,2,2,2,2,2,1,1,2,2,2,2,2,2,1,0,0},
        {0,0,1,2,2,2,2,2,2,1,1,2,2,2,2,2,2,1,1,2,2,2,2,2,2,1,1,2,2,2,2,2,2,1,1,2,2,2,2,2,2,1,1,2,2,2,2,2,2,1,0,0},
        {0,0,5,4,2,2,2,2,4,5,5,4,2,2,2,2,4,5,5,4,2,2,2,2,4,5,5,4,2,2,2,2,4,5,5,4,2,2,2,2,4,5,5,4,2,2,2,2,4,5,0,0},
        {0,0,1,2,4,2,2,4,2,1,1,2,4,2,2,4,2,1,1,2,4,2,2,4,2,1,1,2,4,2,2,4,2,1,1,2,4,2,2,4,2,1,1,2,4,2,2,4,2,1,0,0},
        {0,0,1,1,5,1,1,5,1,1,1,1,5,1,1,5,1,1,1,1,5,1,1,5,1,1,1,1,5,1,1,5,1,1,1,1,5,1,1,5,1,1,1,1,5,1,1,5,1,1,0,0}, 
};


static void draw_background (cairo_t * cr) 
{
    int s = 0;
    for(int x=0; x<ROWS; x++)
    {
        for(int y=0; y<COLUMNS; y++)
        {
            if(map[x][y]==1)
            {
                cairo_set_source_rgb (cr, 0.37, 0.37, 0.37);
                cairo_rectangle(cr, y*TILE_SIZE, x*TILE_SIZE, TILE_SIZE, TILE_SIZE);
                cairo_fill (cr);
            } else if(map[x][y]==2)
            {
                cairo_set_source_rgb (cr, 0,0 ,0.90);
                cairo_rectangle(cr, y*TILE_SIZE, x*TILE_SIZE, TILE_SIZE, TILE_SIZE);
                cairo_fill (cr);
            } else if(map[x][y]==3)
            {
                cairo_set_source_rgb (cr, 0.01,0.49,0.0);
                cairo_rectangle(cr, y*TILE_SIZE, x*TILE_SIZE, TILE_SIZE, TILE_SIZE);
                cairo_fill (cr);
            } else if(map[x][y]==4)
            {
                cairo_set_source_rgb (cr, 1.0, 1.0, 1.0); //
                cairo_rectangle(cr, y*TILE_SIZE, x*TILE_SIZE, TILE_SIZE, TILE_SIZE);
                cairo_fill (cr);
                
                cairo_set_source_rgb(cr, 0.0, 0.0, 0.0);
                cairo_set_font_size(cr, 13);
                cairo_move_to(cr, y*TILE_SIZE+6,x*TILE_SIZE+15);

                cairo_show_text(cr, stops[s]);
                s++;
            } else if(map[x][y]==5 || map[x][y]==6) 
            {
                cairo_set_source_rgb (cr, 0.37, 0.37, 0.37);
                cairo_rectangle(cr, y*TILE_SIZE, x*TILE_SIZE, TILE_SIZE, TILE_SIZE);
                cairo_fill (cr);
            }
        } 
    } 

    int x_limit, y_limit;
    x_limit = 6;
    y_limit = 2;

    cairo_set_source_rgb (cr, 1, 1, 1);
    cairo_set_font_size(cr, 54);
    cairo_text_extents_t extents;
    char *utf8;
    int x=0;
    int y=0;

    char *letters_array[2][6] = {
        {"A", "B", "C", "D", "E", "F"},
        {"G", "H", "I", "J", "K", "L"} 
    };

    for (size_t i = 0; i < y_limit; i++)
    {
        for (size_t j = 0; j < x_limit; j++)
        {
            utf8 = letters_array[i][j];
            cairo_text_extents (cr, utf8, &extents);
            y = ((i * 140) + 80) - (extents.height/2 + extents.y_bearing);
            x = ((j * 160) + 120) - (extents.width/2 + extents.x_bearing);
            cairo_move_to(cr, x, y);
            cairo_show_text(cr, utf8);
        }
    }

    char *letters_array2[2][6] = {
        {"M", "N", "O", "P", "Q", "R"},
        {"S", "T", "U", "V", "W", "X"} 
    };

    for (size_t i = 0; i < y_limit; i++)
    {
        for (size_t j = 0; j < x_limit; j++)
        {
            utf8 = letters_array2[i][j];
            cairo_text_extents (cr, utf8, &extents);
            y = ((i * 140) + 460) - (extents.height/2 + extents.y_bearing);
            x = ((j * 160) + 120) - (extents.width/2 + extents.x_bearing);
            cairo_move_to(cr, x, y);
            cairo_show_text(cr, utf8);
        }   
    }     
} 

#endif